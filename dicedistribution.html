<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=200,height=400,initial-scale=0.5" />
    <title>Canvas â€” Triangles</title>
    <style>
        html,body { height:10%; margin:0; }
        canvas { display:block; width:10%; height:10%; background:#fff; }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const arr = new Array(11).fill(0);

        function resize() {
            const dpr = window.devicePixelRatio || 1;
            const rect = canvas.getBoundingClientRect();
            canvas.width = Math.round(rect.width * dpr);
            canvas.height = Math.round(rect.height * dpr);
            ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
            draw();
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(40, canvas.height - 40);
            ctx.lineTo(canvas.width - 40, canvas.height - 40);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.moveTo(40, 40);
            ctx.lineTo(40, canvas.height - 40);
            ctx.stroke();
            
            const barWidth = (canvas.width - 80) / arr.length;
            const maxVal = Math.max(...arr.filter(v => v !== undefined)) || 1;
            const scale = (canvas.height - 80) / maxVal;
            
            ctx.fillStyle = '#3498db';
            for (let i = 0; i < arr.length; i++) {
                if (arr[i] !== undefined) {
                    const x = 40 + i * barWidth;
                    const barHeight = arr[i] * scale;
                    const y = canvas.height - 40 - barHeight;
                    ctx.fillRect(x, y, barWidth * 0.8, barHeight);
                    
                    ctx.fillStyle = '#000';
                    ctx.font = '12px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText("[" + (i+2) + "]  " +arr[i], x + barWidth * 0.4, canvas.height - 20);
                    ctx.fillStyle = '#3498db';
                }
            }

        }

        function initCanvasSize() {
            canvas.style.width = '100vw';
            canvas.style.height = '100vh';
            resize();
        }

        function rollDice() {
            const die1 = Math.floor(Math.random() * 6) + 1;
            const die2 = Math.floor(Math.random() * 6) + 1;
            const sum = die1 + die2;
            arr[sum - 2] = arr[sum - 2] +1;
            draw();
        }

        window.addEventListener('resize', resize);
        initCanvasSize();
        setInterval(rollDice, 200);
    </script>
</body>
</html>